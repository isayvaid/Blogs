{"ast":null,"code":"import _slicedToArray from\"/Users/saylivaidya/Blogs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{useContext,useEffect}from\"react\";import{AppContext}from\"./context/AppContext\";import Header from\"./components/Header\";import Blogs from\"./components/Blogs\";import Pagination from\"./components/Pagination\";import{Route,Routes,useSearchParams}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import Home from\"./Pages/Home\";import BlogPage from\"./Pages/BlogPage\";import TagPage from\"./Pages/TagPage\";import CategoryPage from\"./Pages/CategoryPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useContext=useContext(AppContext),fetchBlogPosts=_useContext.fetchBlogPosts;var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var location=useLocation();useEffect(function(){var _searchParams$get;var page=(_searchParams$get=searchParams.get(\"page\"))!==null&&_searchParams$get!==void 0?_searchParams$get:1;if(location.pathname.includes(\"tags\")){//iska matlab tag wala page show krna h \nvar tag=location.pathname.split(\"/\").at(-1).replaceAll(\"-\",\" \");fetchBlogPosts(Number(page),tag);}else if(location.pathname.includes(\"categories\")){var category=location.pathname.split(\"/\").at(-1).replaceAll(\"-\",\" \");fetchBlogPosts(Number(page),null,category);}else{fetchBlogPosts(Number(page));}},[location.pathname,location.search]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blog/:blogId\",element:/*#__PURE__*/_jsx(BlogPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/tags/:tag\",element:/*#__PURE__*/_jsx(TagPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/categories/:category\",element:/*#__PURE__*/_jsx(CategoryPage,{})})]});}","map":{"version":3,"names":["useContext","useEffect","AppContext","Header","Blogs","Pagination","Route","Routes","useSearchParams","useLocation","Home","BlogPage","TagPage","CategoryPage","jsx","_jsx","jsxs","_jsxs","App","_useContext","fetchBlogPosts","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","location","_searchParams$get","page","get","pathname","includes","tag","split","at","replaceAll","Number","category","search","children","path","element"],"sources":["/Users/saylivaidya/Blogs/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport { AppContext } from \"./context/AppContext\";\r\nimport Header from \"./components/Header\";\r\nimport Blogs from \"./components/Blogs\";\r\nimport Pagination from \"./components/Pagination\";\r\nimport { Route, Routes, useSearchParams } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Home from \"./Pages/Home\";\r\nimport BlogPage from \"./Pages/BlogPage\";\r\nimport TagPage from \"./Pages/TagPage\";\r\nimport CategoryPage from \"./Pages/CategoryPage\";\r\n\r\nexport default function App() {\r\n  const { fetchBlogPosts } = useContext(AppContext);\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const page =  searchParams.get(\"page\") ?? 1;\r\n\r\n    if(location.pathname.includes(\"tags\")) {\r\n      //iska matlab tag wala page show krna h \r\n      const tag = location.pathname.split(\"/\").at(-1).replaceAll(\"-\",\" \");\r\n      fetchBlogPosts(Number(page), tag);\r\n    }\r\n    else if(location.pathname.includes(\"categories\")) {\r\n      const category = location.pathname.split(\"/\").at(-1).replaceAll(\"-\",\" \");\r\n      fetchBlogPosts(Number(page), null, category);\r\n    }\r\n    else {\r\n      fetchBlogPosts(Number(page));\r\n    }\r\n  }, [location.pathname, location.search]);\r\n\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/\" element = {<Home/>}   />\r\n      <Route path=\"/blog/:blogId\" element = {<BlogPage/>}   />\r\n      <Route path=\"/tags/:tag\" element = {<TagPage/>}   />\r\n      <Route path=\"/categories/:category\" element = {<CategoryPage/>}   />\r\n    </Routes>\r\n  );\r\n}\r\n"],"mappings":"8GAAA,MAAO,WAAW,CAClB,OAASA,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7C,OAASC,UAAU,KAAQ,sBAAsB,CACjD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAASC,KAAK,CAAEC,MAAM,CAAEC,eAAe,KAAQ,kBAAkB,CACjE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,IAAAC,WAAA,CAA2BnB,UAAU,CAACE,UAAU,CAAC,CAAzCkB,cAAc,CAAAD,WAAA,CAAdC,cAAc,CAEtB,IAAAC,gBAAA,CAAwCb,eAAe,EAAE,CAAAc,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAlDG,YAAY,CAAAF,iBAAA,IAAEG,eAAe,CAAAH,iBAAA,IACpC,GAAM,CAAAI,QAAQ,CAAGjB,WAAW,EAAE,CAE9BR,SAAS,CAAC,UAAM,KAAA0B,iBAAA,CACd,GAAM,CAAAC,IAAI,EAAAD,iBAAA,CAAIH,YAAY,CAACK,GAAG,CAAC,MAAM,CAAC,UAAAF,iBAAA,UAAAA,iBAAA,CAAI,CAAC,CAE3C,GAAGD,QAAQ,CAACI,QAAQ,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAE,CACrC;AACA,GAAM,CAAAC,GAAG,CAAGN,QAAQ,CAACI,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CACnEf,cAAc,CAACgB,MAAM,CAACR,IAAI,CAAC,CAAEI,GAAG,CAAC,CACnC,CAAC,IACI,IAAGN,QAAQ,CAACI,QAAQ,CAACC,QAAQ,CAAC,YAAY,CAAC,CAAE,CAChD,GAAM,CAAAM,QAAQ,CAAGX,QAAQ,CAACI,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CACxEf,cAAc,CAACgB,MAAM,CAACR,IAAI,CAAC,CAAE,IAAI,CAAES,QAAQ,CAAC,CAC9C,CAAC,IACI,CACHjB,cAAc,CAACgB,MAAM,CAACR,IAAI,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,CAACF,QAAQ,CAACI,QAAQ,CAAEJ,QAAQ,CAACY,MAAM,CAAC,CAAC,CAExC,mBACErB,KAAA,CAACV,MAAM,EAAAgC,QAAA,eACLxB,IAAA,CAACT,KAAK,EAACkC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAI1B,IAAA,CAACL,IAAI,IAAG,EAAK,cACxCK,IAAA,CAACT,KAAK,EAACkC,IAAI,CAAC,eAAe,CAACC,OAAO,cAAI1B,IAAA,CAACJ,QAAQ,IAAG,EAAK,cACxDI,IAAA,CAACT,KAAK,EAACkC,IAAI,CAAC,YAAY,CAACC,OAAO,cAAI1B,IAAA,CAACH,OAAO,IAAG,EAAK,cACpDG,IAAA,CAACT,KAAK,EAACkC,IAAI,CAAC,uBAAuB,CAACC,OAAO,cAAI1B,IAAA,CAACF,YAAY,IAAG,EAAK,GAC7D,CAEb"},"metadata":{},"sourceType":"module","externalDependencies":[]}